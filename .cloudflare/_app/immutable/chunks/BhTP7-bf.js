import{o as N,p as h,q as R,E as m,a5 as q,a6 as x,a7 as D,a8 as F,a9 as E,aa as L,v as y,ab as C,ac as O,ad as Y,ae as B,af as H,y as M,ag as P,ah as U,e as Z,ai as j,S as w}from"./d2o6Pu8o.js";function G(s,t,c=!1){h&&R();var i=s,e=null,a=null,r=O,A=c?m:0,u=!1;const S=(l,f=!0)=>{u=!0,v(f,l)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,f=r?a:e;l&&B(l),f&&H(f,()=>{r?a=null:e=null})}const v=(l,f)=>{if(r===(r=l))return;let b=!1;if(h){const I=q(i)===x;!!r===I&&(i=D(),F(i),E(!1),b=!0)}var p=Y(),d=i;if(p&&(n=document.createDocumentFragment(),n.append(d=L())),r?e??=f&&y(()=>f(d)):a??=f&&y(()=>f(d)),p){var _=C,T=r?e:a,k=r?a:e;T&&_.skipped_effects.delete(T),k&&_.skipped_effects.add(k),_.add_callback(o)}else o();b&&E(!0)};N(()=>{u=!1,t(S),u||v(null,null)},A),h&&(i=M)}function g(s,t){return s===t||s?.[w]===t}function J(s={},t,c,i){return P(()=>{var e,a;return U(()=>{e=a,a=[],Z(()=>{s!==c(...a)&&(t(s,...a),e&&g(c(...e),s)&&t(null,...e))})}),()=>{j(()=>{a&&g(c(...a),s)&&t(null,...a)})}}),s}export{J as b,G as i};
